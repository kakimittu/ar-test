<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>AR Multi Image Tap</title>

  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

  <style>
    body { margin: 0; overflow: hidden; }
  </style>
</head>

<body>
<a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">

  <!-- assets -->
  <a-assets>
    <img id="img1" src="assets/images/tukareta.jpg">
    <img id="img2" src="assets/images/tukareta.jpg">
    <img id="img3" src="assets/images/tukareta.jpg">
  </a-assets>

  <!-- マーカー -->
  <a-marker type="pattern" url="assets/markers/pattern-AKAZAWA.patt">

    <!-- 画像グループ -->
    <a-entity id="imageGroup">

      <a-plane class="photo"
        material="src: #img1"
        position="-1 0 0"
        rotation="-90 0 0"
        width="0.8"
        height="0.8">
      </a-plane>

      <a-plane class="photo"
        material="src: #img2"
        position="0 0 0"
        rotation="-90 0 0"
        width="0.8"
        height="0.8">
      </a-plane>

      <a-plane class="photo"
        material="src: #img3"
        position="1 0 0"
        rotation="-90 0 0"
        width="0.8"
        height="0.8">
      </a-plane>

    </a-entity>
  </a-marker>

  <a-entity camera></a-entity>
</a-scene>

<script>
  const photos = document.querySelectorAll('.photo');

  let activePhoto = null;

  photos.forEach(photo => {
    photo.addEventListener('click', () => {

      // すべて元に戻す
      photos.forEach(p => {
        p.setAttribute('scale', '1 1 1');
        p.setAttribute('position', `${p.object3D.position.x} 0 0`);
      });

      // 同じのをもう一度押したら解除
      if (activePhoto === photo) {
        activePhoto = null;
        return;
      }

      // 押されたものだけ拡大
      photo.setAttribute('scale', '1.8 1.8 1.8');
      photo.setAttribute(
        'position',
        `${photo.object3D.position.x} 0 0.2`
      );

      activePhoto = photo;
    });
  });
</script>

</body>
</html>





















