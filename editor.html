<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>AR Editor</title>

<style>
body {
  font-family: sans-serif;
  padding: 20px;
}

input {
  display: block;
  margin-bottom: 10px;
}

button {
  padding: 10px 15px;
  margin-top: 10px;
}

img {
  max-width: 150px;
  display: block;
  margin-bottom: 10px;
}
</style>
</head>

<body>

<h2>画像アップロード</h2>

<input type="file" id="fileInput" accept="image/*" multiple>

<div id="preview"></div>

<button id="saveBtn">保存</button>
<br><br>
<a href="index.html">ARページに戻る</a>

<script>
const fileInput = document.getElementById("fileInput");
const preview = document.getElementById("preview");
let imagesBase64 = [];

// 画像選択時
fileInput.addEventListener("change", (event) => {
  const files = event.target.files;
  imagesBase64 = [];
  preview.innerHTML = "";

  Array.from(files).forEach(file => {
    const reader = new FileReader();

    reader.onload = function(e) {
      imagesBase64.push(e.target.result);

      const img = document.createElement("img");
      img.src = e.target.result;
      preview.appendChild(img);
    };

    reader.readAsDataURL(file);
  });
});

// 保存
document.getElementById("saveBtn").addEventListener("click", () => {
  if (imagesBase64.length === 0) {
    alert("画像を選択してください");
    return;
  }

  localStorage.setItem("arImages", JSON.stringify(imagesBase64));
  alert("保存しました！");
});
</script>

</body>
</html>




